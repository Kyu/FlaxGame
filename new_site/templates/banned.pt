<html lang="en" metal:define-macro="banned">
<head>
    <title>Banned</title>
</head>

<body>
<?python
        perm = player.time_banned is None
        if perm:
            time = "Ban is permanent"
        else:
            from datetime import datetime
            from dateutil.relativedelta import relativedelta
            args = ['years', 'months', 'days', 'hours', 'minutes', 'seconds']

            diff = player.time_banned - datetime.now()
            ts = relativedelta(seconds=diff.total_seconds())
            human_readable = ["{0} {1}".format(int(getattr(ts, arg)), arg) for arg in args if getattr(ts, arg)]



?>
<div>
    <h1>Hello, ${player.username}</h1>
    <h2>You are Banned</h2>
    <h3>Duration: ${', '.join(human_readable)}</h3>
    <h4>Reason: ${player.reason_banned}</h4>
</div>

</body>
</html>
