language: python
python:
  - "3.4"
  - "3.5"
  - "3.5-dev"  # 3.5 development branch
  - "3.6"
  - "3.6-dev"  # 3.6 development branch
  - "3.7-dev"  # 3.7 development branch
  - "nightly"
# command to install dependencies
install:
  - pip install -e ".[testing]"
# command to run tests
script:
  - py.test # or py.test for Python versions 3.5 and below
services:
  - mysql


before_script:
- mysql -u root -e 'CREATE DATABASE flaxgame;'
- mysql -u root -e "CREATE USER 'flaxgame'@'localhost' IDENTIFIED BY '*Flax*Game*2017*;';"
- mysql -u root -e "GRANT ALL ON flaxgame.* TO 'flaxgame'@'localhost';"
- initialize_flax_db development.ini
- cd flax

notifications:
  webhooks:
    urls:
     - https://discordapp.com/api/webhooks/395361170032164867/I0iNb1gOWKVetBbE6ubQU_Z7PcGkuNkLNN5MkkKwnsQ88no_9f2JN4oMLCgRPzeKvkFX
    on_success: always # default: always
    on_failure: always # default: always
    on_start: never   # default: never
    on_cancel: never # default: always
    on_error: always
